<!DOCTYPE html>
<html lang="vi"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/base}">
<head>
  <title layout:fragment="title">Thêm danh mục</title>
</head>
<body>
<div layout:fragment="content" class="container my-3">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h4 class="mb-0">Thêm danh mục</h4>
    <a th:href="@{/admin/categories}" class="btn btn-outline-secondary">Quay lại</a>
  </div>

  <form th:action="@{/admin/categories/add}" th:object="${category}"
        method="post" enctype="multipart/form-data">

    <!-- Tên -->
    <div class="mb-3">
      <label class="form-label">Tên danh mục</label>
      <input th:field="*{categoryName}" class="form-control"
             placeholder="Nhập tên danh mục">
      <div th:if="${#fields.hasErrors('categoryName')}" class="text-danger small"
           th:errors="*{categoryName}">Lỗi</div>
    </div>

    <!-- Mô tả -->
    <div class="mb-3">
      <label class="form-label">Mô tả</label>
      <textarea th:field="*{description}" rows="3" class="form-control"
                placeholder="Mô tả ngắn"></textarea>
    </div>

    <!-- Icon -->
    <div class="mb-3">
      <label class="form-label">Icon (ảnh)</label>
      <input type="file" name="iconFile" accept="image/*" class="form-control">
      <div class="form-text">Ảnh sẽ được lưu và hiển thị qua đường dẫn /images/{tên_file}.</div>
    </div>

    <!-- Trạng thái -->
    <div class="form-check form-switch mb-3">
      <input class="form-check-input" type="checkbox" th:field="*{status}">
      <label class="form-check-label">Kích hoạt</label>
    </div>

    <!-- Hidden -->
    <input type="hidden" th:field="*{categoryId}">
    <input type="hidden" th:field="*{edit}" th:value="false">

    <div class="d-flex gap-2">
      <button class="btn btn-success" type="submit">Lưu</button>
      <button class="btn btn-outline-secondary" type="reset">Làm mới</button>
    </div>
  </form>
</div>
</body>
</html>
